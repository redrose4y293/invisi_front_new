import{u as y,r as s,j as e,L as b}from"./index-Damo5oZI.js";import{a as f}from"./api-DhFjHDpY.js";function w(){const p=y(),[n,d]=s.useState(!1),[r,g]=s.useState({name:"",email:"",password:""}),[c,u]=s.useState(""),[o,m]=s.useState(!1),l=(a,i)=>g(t=>({...t,[a]:i})),h=async a=>{var i;a.preventDefault(),u(""),d(!0);try{await f.post("/auth/register",{email:r.email,password:r.password,displayName:r.name}),m(!0),setTimeout(()=>p("/auth/login",{replace:!0}),900)}catch(t){const x=((i=t==null?void 0:t.body)==null?void 0:i.error)||(t==null?void 0:t.message)||"Registration failed";u(String(x))}finally{d(!1)}};return e.jsx("main",{style:{display:"grid",placeItems:"center",minHeight:"100vh",padding:24,background:"linear-gradient(180deg, rgba(0,0,0,0.08), rgba(0,0,0,0.14))"},children:e.jsxs("div",{style:{width:"100%",maxWidth:460},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:12},children:[e.jsx("h1",{style:{margin:"0 0 4px",color:"var(--accent)",fontSize:28,fontWeight:800},children:"Create account"}),e.jsx("p",{style:{margin:0,color:"#9aa4af"},children:"Set up your admin access to manage the platform."})]}),e.jsxs("form",{onSubmit:h,style:{background:"linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02))",padding:24,border:"1px solid #223",borderRadius:16,display:"grid",gap:12,boxShadow:"0 10px 30px rgba(0,0,0,0.35)"},children:[c&&e.jsx("div",{style:{color:"#FF6B6B",fontSize:12},children:c}),o&&e.jsx("div",{style:{color:"#10B981",fontSize:12},children:"Account created. Redirecting to login…"}),e.jsxs("label",{style:{display:"grid",gap:6},children:[e.jsx("span",{style:{fontSize:12,color:"#9aa4af"},children:"Name"}),e.jsx("input",{value:r.name,onChange:a=>l("name",a.target.value),placeholder:"Your full name",autoComplete:"name",required:!0,style:{width:"100%",padding:12,borderRadius:10,border:"1px solid #334",background:"#0B1117",color:"#E6E6E6",outline:"none"}})]}),e.jsxs("label",{style:{display:"grid",gap:6},children:[e.jsx("span",{style:{fontSize:12,color:"#9aa4af"},children:"Email"}),e.jsx("input",{type:"email",value:r.email,onChange:a=>l("email",a.target.value.toLowerCase().trim()),placeholder:"you@company.com",autoComplete:"email",required:!0,style:{width:"100%",padding:12,borderRadius:10,border:"1px solid #334",background:"#0B1117",color:"#E6E6E6",outline:"none"}})]}),e.jsxs("label",{style:{display:"grid",gap:6},children:[e.jsx("span",{style:{fontSize:12,color:"#9aa4af"},children:"Password"}),e.jsx("input",{type:"password",value:r.password,onChange:a=>l("password",a.target.value),placeholder:"••••••",autoComplete:"new-password",required:!0,style:{width:"100%",padding:12,borderRadius:10,border:"1px solid #334",background:"#0B1117",color:"#E6E6E6",outline:"none"}})]}),e.jsx("button",{disabled:n||o,type:"submit",style:{padding:"12px 14px",border:"1px solid rgba(255,255,255,0.1)",borderRadius:12,background:"linear-gradient(180deg, #1a73e8, #145fbe)",color:"white",cursor:"pointer",opacity:n||o?.7:1},children:n?"Creating...":o?"Created":"Create Account"}),e.jsxs("div",{style:{fontSize:12,color:"#9aa4af",textAlign:"center"},children:["Already have an account? ",e.jsx(b,{to:"/auth/login",children:"Log in"})]})]})]})})}export{w as default};
